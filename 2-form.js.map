{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["// Feedback Form with validation\ndocument.addEventListener('DOMContentLoaded', () => {\n  const form = document.querySelector('.feedback-form');\n  const emailInput = form?.querySelector('input[name=\"email\"]');\n  const messageInput = form?.querySelector('textarea[name=\"message\"]');\n\n  if (!form || !emailInput || !messageInput) return;\n\n  const formData = {\n    email: '',\n    message: '',\n  };\n\n  // Load from localStorage\n  const savedData = localStorage.getItem('feedback-form-state');\n  if (savedData) {\n    try {\n      const parsedData = JSON.parse(savedData);\n      formData.email = parsedData.email || '';\n      formData.message = parsedData.message || '';\n\n      emailInput.value = formData.email;\n      messageInput.value = formData.message;\n    } catch (error) {\n      console.error('Error loading from localStorage:', error);\n    }\n  }\n\n  // Save to localStorage on input\n  const saveToStorage = () => {\n    localStorage.setItem('feedback-form-state', JSON.stringify(formData));\n  };\n\n  // Email validation\n  const validateEmail = email => {\n    return /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(email);\n  };\n\n  // Update email field state\n  const updateEmailState = () => {\n    const email = formData.email.trim();\n    emailInput.classList.remove('valid', 'invalid');\n\n    if (email === '') return;\n\n    if (validateEmail(email)) {\n      emailInput.classList.add('valid');\n    } else {\n      emailInput.classList.add('invalid');\n    }\n  };\n\n  // Event listeners\n  emailInput.addEventListener('input', e => {\n    formData.email = e.target.value;\n    updateEmailState();\n    saveToStorage();\n  });\n\n  messageInput.addEventListener('input', e => {\n    formData.message = e.target.value;\n    saveToStorage();\n  });\n\n  // Form submit\n  form.addEventListener('submit', e => {\n    e.preventDefault();\n\n    const email = formData.email.trim();\n    const message = formData.message.trim();\n\n    if (!email || !message) {\n      alert('Fill please all fields');\n      return;\n    }\n\n    if (!validateEmail(email)) {\n      alert('Please enter a valid email address');\n      emailInput.focus();\n      return;\n    }\n\n    console.log({ email, message });\n\n    // Clear form\n    form.reset();\n    formData.email = '';\n    formData.message = '';\n    localStorage.removeItem('feedback-form-state');\n    emailInput.classList.remove('valid', 'invalid');\n  });\n});\n"],"names":["form","emailInput","messageInput","formData","savedData","parsedData","error","saveToStorage","validateEmail","email","updateEmailState","message"],"mappings":"wFACA,SAAS,iBAAiB,mBAAoB,IAAM,CAClD,MAAMA,EAAO,SAAS,cAAc,gBAAgB,EAC9CC,EAAaD,GAAA,YAAAA,EAAM,cAAc,uBACjCE,EAAeF,GAAA,YAAAA,EAAM,cAAc,4BAEzC,GAAI,CAACA,GAAQ,CAACC,GAAc,CAACC,EAAc,OAE3C,MAAMC,EAAW,CACf,MAAO,GACP,QAAS,EACb,EAGQC,EAAY,aAAa,QAAQ,qBAAqB,EAC5D,GAAIA,EACF,GAAI,CACF,MAAMC,EAAa,KAAK,MAAMD,CAAS,EACvCD,EAAS,MAAQE,EAAW,OAAS,GACrCF,EAAS,QAAUE,EAAW,SAAW,GAEzCJ,EAAW,MAAQE,EAAS,MAC5BD,EAAa,MAAQC,EAAS,OAC/B,OAAQG,EAAO,CACd,QAAQ,MAAM,mCAAoCA,CAAK,CACxD,CAIH,MAAMC,EAAgB,IAAM,CAC1B,aAAa,QAAQ,sBAAuB,KAAK,UAAUJ,CAAQ,CAAC,CACxE,EAGQK,EAAgBC,GACb,6BAA6B,KAAKA,CAAK,EAI1CC,EAAmB,IAAM,CAC7B,MAAMD,EAAQN,EAAS,MAAM,KAAI,EACjCF,EAAW,UAAU,OAAO,QAAS,SAAS,EAE1CQ,IAAU,KAEVD,EAAcC,CAAK,EACrBR,EAAW,UAAU,IAAI,OAAO,EAEhCA,EAAW,UAAU,IAAI,SAAS,EAExC,EAGEA,EAAW,iBAAiB,QAAS,GAAK,CACxCE,EAAS,MAAQ,EAAE,OAAO,MAC1BO,IACAH,GACJ,CAAG,EAEDL,EAAa,iBAAiB,QAAS,GAAK,CAC1CC,EAAS,QAAU,EAAE,OAAO,MAC5BI,GACJ,CAAG,EAGDP,EAAK,iBAAiB,SAAU,GAAK,CACnC,EAAE,eAAc,EAEhB,MAAMS,EAAQN,EAAS,MAAM,KAAI,EAC3BQ,EAAUR,EAAS,QAAQ,KAAI,EAErC,GAAI,CAACM,GAAS,CAACE,EAAS,CACtB,MAAM,wBAAwB,EAC9B,MACD,CAED,GAAI,CAACH,EAAcC,CAAK,EAAG,CACzB,MAAM,oCAAoC,EAC1CR,EAAW,MAAK,EAChB,MACD,CAED,QAAQ,IAAI,CAAE,MAAAQ,EAAO,QAAAE,CAAS,CAAA,EAG9BX,EAAK,MAAK,EACVG,EAAS,MAAQ,GACjBA,EAAS,QAAU,GACnB,aAAa,WAAW,qBAAqB,EAC7CF,EAAW,UAAU,OAAO,QAAS,SAAS,CAClD,CAAG,CACH,CAAC"}